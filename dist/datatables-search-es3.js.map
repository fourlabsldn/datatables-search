{"version":3,"file":"datatables-search-es3.js","sources":["src/datatables-search.js"],"sourcesContent":["/* globals xController, jQuery */\nxController(function datatablesSearch(wrapper) {\n  'use strict';\n\n  const input = wrapper.querySelector('input');\n  const datatableId = input.getAttribute('aria-controls');\n\n  if (datatableId === null || datatableId.length === 0) {\n    throw new Error('No selector for searchable datatable provided');\n  }\n\n  const search = $.fn.dataTable.util.throttle(term => { $datatable.search(term).draw(); }, 1000);\n\n  const datatable = document.querySelector(`#${datatableId}`);\n  let $datatable;\n\n  input.addEventListener('keyup', (e) => {\n    if (datatable.length === 0) {\n      throw Error('Searchable datatable not found');\n    }\n\n    if ($datatable === undefined) {\n      $datatable = jQuery(datatable).dataTable().api();\n    }\n\n    const value = (e.srcElement ? e.srcElement.value : e.target.value)\n        .replace(/[^\\x00-\\xFF]/g, '') // remove non-ASCII characters\n    ;\n\n    search(value);\n  });\n});\n"],"names":["xController","datatablesSearch","wrapper","input","querySelector","datatableId","getAttribute","length","Error","search","$","fn","dataTable","util","throttle","term","draw","datatable","document","$datatable","addEventListener","e","undefined","jQuery","api","value","srcElement","target","replace"],"mappings":";;;;;;AAAA;AACAA,YAAY,SAASC,gBAAT,CAA0BC,OAA1B,EAAmC;;;MAGvCC,QAAQD,QAAQE,aAAR,CAAsB,OAAtB,CAAd;MACMC,cAAcF,MAAMG,YAAN,CAAmB,eAAnB,CAApB;;MAEID,gBAAgB,IAAhB,IAAwBA,YAAYE,MAAZ,KAAuB,CAAnD,EAAsD;UAC9C,IAAIC,KAAJ,CAAU,+CAAV,CAAN;;;MAGIC,SAASC,EAAEC,EAAF,CAAKC,SAAL,CAAeC,IAAf,CAAoBC,QAApB,CAA6B,gBAAQ;eAAaL,MAAX,CAAkBM,IAAlB,EAAwBC,IAAxB;GAAvC,EAA0E,IAA1E,CAAf;;MAEMC,YAAYC,SAASd,aAAT,OAA2BC,WAA3B,CAAlB;MACIc,mBAAJ;;QAEMC,gBAAN,CAAuB,OAAvB,EAAgC,UAACC,CAAD,EAAO;QACjCJ,UAAUV,MAAV,KAAqB,CAAzB,EAA4B;YACpBC,MAAM,gCAAN,CAAN;;;QAGEW,eAAeG,SAAnB,EAA8B;mBACfC,OAAON,SAAP,EAAkBL,SAAlB,GAA8BY,GAA9B,EAAb;;;QAGIC,QAAQ,CAACJ,EAAEK,UAAF,GAAeL,EAAEK,UAAF,CAAaD,KAA5B,GAAoCJ,EAAEM,MAAF,CAASF,KAA9C,EACTG,OADS,CACD,eADC,EACgB,EADhB,CAAd;;WAIOH,KAAP;GAbF;CAfF;;"}