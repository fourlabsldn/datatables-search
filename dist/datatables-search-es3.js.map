{"version":3,"file":"datatables-search-es3.js","sources":["src/datatables-search.js"],"sourcesContent":["/* globals xController, jQuery */\nxController(function datatablesSearch(wrapper) {\n  'use strict';\n\n  const input = wrapper.querySelector('input');\n  const datatableId = input.getAttribute('aria-controls');\n\n  if (datatableId === null || datatableId.length === 0) {\n    throw new Error('No selector for searchable datatable provided');\n  }\n\n  const datatable = document.querySelector(`#${datatableId}`);\n  let $datatable;\n\n  input.addEventListener('keyup', (e) => {\n    if (datatable.length === 0) {\n      throw Error('Searchable datatable not found');\n    }\n\n    if ($datatable === undefined) {\n      $datatable = jQuery(datatable).dataTable().api();\n    }\n\n    const value = (e.srcElement ? e.srcElement.value : e.target.value)\n        .replace(/[^\\x00-\\xFF]/g, '') // remove non-ASCII characters\n    ;\n\n    $datatable.search(value).draw();\n  });\n});\n"],"names":["xController","datatablesSearch","wrapper","input","querySelector","datatableId","getAttribute","length","Error","datatable","document","$datatable","addEventListener","e","undefined","jQuery","dataTable","api","value","srcElement","target","replace","search","draw"],"mappings":";;;;;;AAAA;AACAA,YAAY,SAASC,gBAAT,CAA0BC,OAA1B,EAAmC;;;MAGvCC,QAAQD,QAAQE,aAAR,CAAsB,OAAtB,CAAd;MACMC,cAAcF,MAAMG,YAAN,CAAmB,eAAnB,CAApB;;MAEID,gBAAgB,IAAhB,IAAwBA,YAAYE,MAAZ,KAAuB,CAAnD,EAAsD;UAC9C,IAAIC,KAAJ,CAAU,+CAAV,CAAN;;;MAGIC,YAAYC,SAASN,aAAT,OAA2BC,WAA3B,CAAlB;MACIM,mBAAJ;;QAEMC,gBAAN,CAAuB,OAAvB,EAAgC,UAACC,CAAD,EAAO;QACjCJ,UAAUF,MAAV,KAAqB,CAAzB,EAA4B;YACpBC,MAAM,gCAAN,CAAN;;;QAGEG,eAAeG,SAAnB,EAA8B;mBACfC,OAAON,SAAP,EAAkBO,SAAlB,GAA8BC,GAA9B,EAAb;;;QAGIC,QAAQ,CAACL,EAAEM,UAAF,GAAeN,EAAEM,UAAF,CAAaD,KAA5B,GAAoCL,EAAEO,MAAF,CAASF,KAA9C,EACTG,OADS,CACD,eADC,EACgB,EADhB,CAAd;;eAIWC,MAAX,CAAkBJ,KAAlB,EAAyBK,IAAzB;GAbF;CAbF;;"}